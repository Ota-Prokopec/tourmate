{"version":3,"file":"index.js","sources":["../../src/Question.ts","../../src/Topic.ts","../../src/Transport.ts"],"sourcesContent":["import { Document, GraphqlDocument } from './Document'\nimport { z } from 'zod'\n\nexport const answerTypeZod = z.union([\n\tz.literal('radio'),\n\tz.literal('text'),\n\tz.literal('number'),\n])\nexport type AnswerType = z.infer<typeof answerTypeZod>\n\nexport const isQuestionTypeRadio = (input: unknown): input is Question<'radio'> => {\n\ttry {\n\t\tquestionTypeRadioZod.parse(input)\n\t\treturn true\n\t} catch (error) {\n\t\treturn false\n\t}\n}\nexport const isQuestionTypeNumber = (input: unknown): input is Question<'number'> => {\n\ttry {\n\t\tquestionTypeNumberZod.parse(input)\n\t\treturn true\n\t} catch (error) {\n\t\treturn false\n\t}\n}\nexport const isQuestionTypeText = (input: unknown): input is Question<'text'> => {\n\ttry {\n\t\tquestionTypeTextZod.parse(input)\n\t\treturn true\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getQuestionType = (question: unknown) => {\n\tif (isQuestionTypeText(question)) return ['text', question] as const\n\tif (isQuestionTypeNumber(question)) return ['number', question] as const\n\tif (isQuestionTypeRadio(question)) return ['radio', question] as const\n\telse throw new Error('Unknown type')\n}\n\nexport const isQuestion = (value: unknown) => {\n\ttry {\n\t\tgetQuestionType(value)\n\t\treturn true\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nconst questionTypeRadioZod = z.object({\n\tquestion: z.string().nonempty(),\n\ttype: z.literal('radio'),\n\tcorrectAnswer: z.string().nonempty(),\n\tpickingAnswers: z.string().array(),\n})\nconst questionTypeNumberZod = z.object({\n\tquestion: z.string().nonempty(),\n\ttype: z.literal('number'),\n\tcorrectAnswer: z.number(),\n})\nconst questionTypeTextZod = z.object({\n\tquestion: z.string().nonempty(),\n\ttype: z.literal('text'),\n\tcorrectAnswer: z.string().nonempty(),\n})\n\ntype Skeleton<T extends AnswerType> = {\n\tquestion: string\n\ttype: T\n\tcorrectAnswer: T extends 'number' ? number : string\n\tpickingAnswers?: string[] | undefined | null\n}\n\nexport type Question<T extends AnswerType> = Skeleton<T> &\n\t(T extends 'radio'\n\t\t? {\n\t\t\t\tpickingAnswers: string[]\n\t\t  }\n\t\t: Skeleton<T>)\n\nexport type QuestionDocumentCreate = {\n\tquestion: string\n\tanswerType: AnswerType\n\tanswerId: string\n}\nexport type QuestionDocument = Document<QuestionDocumentCreate>\nexport type QuestionGraphqlDocument = GraphqlDocument<QuestionDocumentCreate>\n","import { z } from 'zod'\n\nexport const topicZod = z.union([\n\tz.literal('castle'),\n\tz.literal('monument'),\n\tz.literal('person'),\n\tz.literal('animals'),\n\tz.literal('hiking'),\n])\n\nexport type Topic = z.infer<typeof topicZod>\n","import { z } from 'zod'\n\nexport const transportZod = z.union([\n\tz.literal('train'),\n\tz.literal('bus'),\n\tz.literal('car'),\n\tz.literal('walk'),\n\tz.literal('bike'),\n])\n\nexport type Transport = z.infer<typeof transportZod>\n"],"names":[],"mappings":"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"}